sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("depthiringapp.ext.controller.Department_hiring_list",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel();debugger},routing:{onBeforeBinding:async function(){var e;var t;debugger;if(sap.ushell&&sap.ushell.Container){t=sap.ushell.Container.getService("UserInfo");e=t.getEmail();debugger}else{console.log("not got ")}var r=this.base.getExtensionAPI().getModel();debugger;if(!r){console.error("Model is not available.");return}debugger;var n;debugger;if(typeof r.getServiceUrl==="function"){debugger;n=r.getServiceUrl();debugger;console.log("Service URL:",n);debugger}else{debugger;console.error("Unable to determine the service URL.");return;debugger}var i,o;try{const t=await new Promise((e,t)=>{jQuery.ajax({url:n+"/Authority",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,r,n){t(new Error(r+": "+n))}})});debugger;console.log("Fetched the Authority data",t);const r=t.value;debugger;debugger;for(let t of r){if(t.email===e){i=t.user}if(t.user==="Admin"){o=t.email}}debugger;const g=window.location.href;console.log("Current URL:",g);debugger;const s=new URL(g);const u=s.hash.substring(1);debugger;const l=/\/Department\(deptId='([^']*)'/.exec(u);debugger;const d=l?l[1]:null;if(e!==o){if(d!==i){debugger;this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Delete")){e.setVisible(false)}else if(e.getId().includes("Edit")){e.setEnabled(false)}})}else{debugger;this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Delete")){e.setVisible(true)}else if(e.getId().includes("Edit")){e.setEnabled(true)}})}}debugger}catch(e){console.error("Error fetching Authority data",e)}}}}})});
//# sourceMappingURL=Department_hiring_list.controller.js.map