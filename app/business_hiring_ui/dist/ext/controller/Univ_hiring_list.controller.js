sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("businesshiringui.ext.controller.Univ_hiring_list",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onBeforeBinding:async function(){var e,t,n;var i=this.base.getExtensionAPI().getModel();if(!i){console.error("Model is not available.");return}var s;if(typeof i.getServiceUrl==="function"){s=i.getServiceUrl();console.log("Service URL:",s)}const r=this.base.getView();const o=r.findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Create")||e.getId().includes("Delete"))});const a=o[0];const l=o[1];const c=o[2];const u=o[3];const f=o[4];const g=o[5];c.setVisible(false);u.setVisible(false);f.setVisible(false);g.setVisible(false);try{const i=await new Promise((e,t)=>{jQuery.ajax({url:s+"/Authority",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,n,i){t(new Error(n+": "+i))}})});const r=i.value;for(let t of r){if(t.user==="Admin"){e=t.email;console.log(e)}}if(sap.ushell&&sap.ushell.Container){t=sap.ushell.Container.getService("UserInfo");n=t.getEmail();if(n!==e){this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Create")||e.getId().includes("Delete")){e.setVisible(false)}});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Draft")||e.getId().includes("Save"))}).forEach(function(e){e.setVisible(false)});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Input")&&e.getId().includes("Draft")}).forEach(function(e){e.setEditable(false);e.setEnabled(false)});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Select")&&e.getId().includes("EditingStatus")}).forEach(function(e){e.setSelectedKey("All (Hiding Draft)");e.setEnabled(false)})}}else{console.error("UserInfo service not available.")}}catch(e){console.error("Error fetching Authority data",e)}}}}})});
//# sourceMappingURL=Univ_hiring_list.controller.js.map