//@ui5-bundle businesshiringui/Component-preload.js
sap.ui.require.preload({
	"businesshiringui/Component.js":function(){
sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("businesshiringui.Component",{metadata:{manifest:"json"}})});
},
	"businesshiringui/ext/controller/Object_of_Univ.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e,t,n){"use strict";return e.extend("businesshiringui.ext.controller.Object_of_Univ",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onBeforeBinding:async function(){var e,t,n,i;var s=this.base.getExtensionAPI().getModel();var o;if(!s){console.error("Model is not available.");return}debugger;const r=window.location.href;console.log("Current URL:",r);const a=new URL(r);debugger;const l=a.hash.substring(1);const u=/\/College\(lectId='[^']*',cdum=([a-fA-F0-9\-]+),IsActiveEntity=[^)]*\)/;const c=u.exec(l);const d=c?c[1]:null;debugger;console.log("Extracted cdum value (UUID):",d);try{const e=await new Promise((e,t)=>{jQuery.ajax({url:m+"/College",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,n,i){t(new Error(n+": "+i))}})});const t=e.value;var g;for(let e of t){if(e.cdum===d){debugger;g=e.Status}}debugger;if(g==="In Process"||g==="Rejected"){var f=this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Edit")||e.getId().includes("Delete"))});f.forEach(function(e){e.setEnabled(false);e.setVisible(false)})}else if(g!=="Approved"){debugger;var f=this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Edit")||e.getId().includes("Delete"))});f.forEach(function(e){e.setEnabled(false);e.setVisible(false)})}}catch(e){console.error("Can not fetch data")}var b=this.getView().getModel("ui");var v=b.oData.editMode;var h=this.base.getView().byId("businesshiringui::CollegeObjectPage--fe::CustomSubSection::Upload_File_Fragment--uploadSet");var E=h.getBindingInfo("items");var p=E.template;if(v=="Editable"){h.setUploadButtonInvisible(false);p.setVisibleRemove(true);p.setVisibleEdit(true);p.setEnabledEdit(true);h.setUploadEnabled(true)}else{h.setUploadButtonInvisible(true);p.setVisibleRemove(false);p.setVisibleEdit(false);h.setUploadEnabled(false)}var m;if(typeof s.getServiceUrl==="function"){m=s.getServiceUrl();console.log("Service URL:",m)}try{const i=await new Promise((e,t)=>{jQuery.ajax({url:m+"/Authority",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,n,i){t(new Error(n+": "+i))}})});const s=i.value;for(let t of s){if(t.user==="Admin"){e=t.email;console.log(e)}}if(sap.ushell&&sap.ushell.Container){n=sap.ushell.Container.getService("UserInfo");t=n.getEmail();if(t!==e){this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Delete")){e.setVisible(false)}else if(e.getId().includes("Edit")){e.setEnabled(false)}})}}}catch(e){console.error("Can not fetch auth data")}this.adjustUIControls()}}},adjustUIControls:function(){var e=this;var t=e.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&e.getId().includes("Save")});var n=t[0];setTimeout(function(){if(n.getText().includes("Create")){n.setText("Send for Approval")}}.bind(this),1e3)}})});
},
	"businesshiringui/ext/controller/Univ_hiring_list.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("businesshiringui.ext.controller.Univ_hiring_list",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onBeforeBinding:async function(){var e,t,n;var i=this.base.getExtensionAPI().getModel();if(!i){console.error("Model is not available.");return}var s;if(typeof i.getServiceUrl==="function"){s=i.getServiceUrl();console.log("Service URL:",s)}const r=this.base.getView();const o=r.findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Create")||e.getId().includes("Delete"))});const a=o[0];const l=o[1];const c=o[2];const u=o[3];const f=o[4];const g=o[5];c.setVisible(false);u.setVisible(false);f.setVisible(false);g.setVisible(false);try{const i=await new Promise((e,t)=>{jQuery.ajax({url:s+"/Authority",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e,n,i){t(new Error(n+": "+i))}})});const r=i.value;for(let t of r){if(t.user==="Admin"){e=t.email;console.log(e)}}if(sap.ushell&&sap.ushell.Container){t=sap.ushell.Container.getService("UserInfo");n=t.getEmail();if(n!==e){this.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")}).forEach(function(e){if(e.getId().includes("Create")||e.getId().includes("Delete")){e.setVisible(false)}});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Button")&&(e.getId().includes("Draft")||e.getId().includes("Save"))}).forEach(function(e){e.setVisible(false)});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Input")&&e.getId().includes("Draft")}).forEach(function(e){e.setEditable(false);e.setEnabled(false)});this.base.getView().findAggregatedObjects(true,function(e){return e.isA("sap.m.Select")&&e.getId().includes("EditingStatus")}).forEach(function(e){e.setSelectedKey("All (Hiding Draft)");e.setEnabled(false)})}}else{console.error("UserInfo service not available.")}}catch(e){console.error("Error fetching Authority data",e)}}}}})});
},
	"businesshiringui/ext/fragment/Upload_File_Fragment.fragment.xml":'<core:FragmentDefinition xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:macros="sap.fe.macros"><mvc:View id="_IDGenView1"\n\t\n\txmlns:mvc="sap.ui.core.mvc"\n\tdisplayBlock="true"\n\txmlns="sap.m"\n\txmlns:upload="sap.m.upload"\n><upload:UploadSet\n\t\t\t\t\tid="uploadSet"\n\t\t\t\t\tcore:require="{ handler: \'businesshiringui/ext/fragment/Upload_File_Fragment\'}"\n\t\t\t\t\tinstantUpload="false"\n\t\t\t\t\tuploadEnabled="true"\n\t\t\t\t\tafterItemAdded="handler.onAfterItemAdded"\n                    uploadCompleted="handler.onUploadCompleted" \n\t\t\t\t\tbeforeItemRemoved="handler.onBeforeItemRemoved" \n\t\t\t\t\tafterItemRemoved="handler.afterItemRemoved"\n\t\t\t\t\t\n\t\t\t\t\titems="{\n\t\t\t\t\t\t\t\tpath: \'ClgToFile\',\n\t\t\t\t\t\t\t\tparameters: {\n\t\t\t\t\t\t\t\t\t$orderby: \'createdAt desc\'\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttemplateShareable: false}"\n\t\t\t\t><upload:items><upload:UploadSetItem id="_IDGenUploadSetItem1"\n\t\t\t\t\t\t\tfileName="{fileName}"\n\t\t\t\t\t\t\tmediaType="{mediaType}"\n\t\t\t\t\t\t\turl="{url}"\n\t\t\t\t\t\t\tenabledEdit="false"\n\t\t\t\t\t\t\tvisibleEdit="false"\n\t\t\t\t\t\t\topenPressed="handler.onOpenPressed"\n\n\t\t\t\t\t\t><upload:attributes><ObjectAttribute id="_IDGenObjectAttribute1"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded By"\n\t\t\t\t\t\t\t\t\ttext="{createdBy}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="_IDGenObjectAttribute2"\n\t\t\t\t\t\t\t\t\ttitle="Uploaded on"\n\t\t\t\t\t\t\t\t\ttext="{createdAt}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/><ObjectAttribute id="_IDGenObjectAttribute3"\n\t\t\t\t\t\t\t\t\ttitle="File Size"\n\t\t\t\t\t\t\t\t\ttext="{size}"\n\t\t\t\t\t\t\t\t\tactive="false"\n\t\t\t\t\t\t\t\t/></upload:attributes></upload:UploadSetItem></upload:items></upload:UploadSet></mvc:View></core:FragmentDefinition>',
	"businesshiringui/ext/fragment/Upload_File_Fragment.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";var t;var a=this;var o;var r;return{onAfterItemAdded:function(e){debugger;var a=e.oSource.getModel().getServiceUrl();var r=e.getParameter("item");var n=window.location.href;const i=/cdum=([a-fA-F0-9-]+)/;const c=n.match(i);if(c){o=c[1];console.log(o)}else{console.log("Number not found in URL")}var s=async function(e){var r={mediaType:e.getMediaType(),fileName:e.getFileName(),size:e.getFileObject().size,cdum:o};debugger;var n={url:a+`College(cdum=${o},IsActiveEntity=false)/ClgToFile`,method:"POST",headers:{"Content-type":"application/json"},data:JSON.stringify(r)};await new Promise((e,a)=>{debugger;$.ajax(n).done((a,o,r)=>{debugger;t=a.ID;e(a)}).fail(e=>{a(e)})})};s(r).then(e=>{debugger;var o=a+`Files(ID=${t},IsActiveEntity=false)/content`;t=null;r.setUploadUrl(o);r.setUrl(o);var n=this.byId("uploadSet");n.setHttpRequestMethod("PUT");n.uploadItem(r)}).catch(e=>{console.log(e)})},onOpenPressed:function(e){debugger;var t=e.oSource.getModel().getServiceUrl();var a=e.oSource.mProperties.url;if(!a.startsWith(t)){let a=t+e.oSource.mProperties.url.substring(1);e.oSource.mProperties.url=a}},onUploadCompleted:function(e){debugger;var t=this.byId("uploadSet");t.removeAllIncompleteItems()},onBeforeItemRemoved:function(e){debugger;var t=e.oSource.getModel().getServiceUrl();debugger;const a=/^(.*?),IsActiveEntity=/;let o=e.mParameters.item.mProperties.url.match(a);let r=o[1]+",IsActiveEntity=false)";$.ajax({url:t+r,method:"DELETE"})},formatThumbnailUrl:function(e){debugger;var t;switch(e){case"image/png":t="sap-icon://card";break;case"text/plain":t="sap-icon://document-text";break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":t="sap-icon://excel-attachment";break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":t="sap-icon://doc-attachment";break;case"application/pdf":t="sap-icon://pdf-attachment";break;default:t="sap-icon://attachment"}return t}}});
},
	"businesshiringui/i18n/i18n.properties":'# This is the resource bundle for businesshiringui\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=UI for Business Hiring\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n\n#XFLD,72\nflpTitle=Faculties Hiring process\n\n#XFLD,72\nflpTitle=Lecturer_Hiring_smart_UI\n',
	"businesshiringui/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"businesshiringui","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{WELCOME TO UNIVERITY HIRING}}","description":"{{}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.14.3","toolsId":"aea9fdad-4e38-4673-8dca-a269866f41a4"},"dataSources":{"mainService":{"uri":"odata/v4/my/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"Business_Object-display":{"semanticObject":"Business_Object","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}},"Business_App_for_Hiring-display":{"semanticObject":"Business_App_for_Hiring","action":"display","title":"{{flpTitle}}","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.127.0","libs":{"sap.m":{},"sap.ui.core":{},"sap.ushell":{},"sap.fe.templates":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"businesshiringui.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"}},"resources":{"css":[]},"routing":{"config":{},"routes":[{"pattern":":?query:","name":"CollegeList","target":"CollegeList"},{"pattern":"College({key}):?query:","name":"CollegeObjectPage","target":"CollegeObjectPage"}],"targets":{"CollegeList":{"type":"Component","id":"CollegeList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/College","variantManagement":"None","navigation":{"College":{"detail":{"route":"CollegeObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable"}}},"views":{"paths":[{"key":"tableView","annotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#tableView"},{"key":"tableView1","annotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#tableView1"},{"key":"tableView2","annotationPath":"com.sap.vocabularies.UI.v1.SelectionPresentationVariant#tableView2"}]},"initialLoad":"Enabled"}}},"CollegeObjectPage":{"type":"Component","id":"CollegeObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/College","content":{"body":{"sections":{"Upload_File_Fragment":{"template":"businesshiringui.ext.fragment.Upload_File_Fragment","position":{"placement":"After","anchor":"GeneratedFacet1"},"title":"File_upload"}}}}}}}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ListReport.ListReportController":{"controllerName":"businesshiringui.ext.controller.Univ_hiring_list"},"sap.fe.templates.ObjectPage.ObjectPageController":{"controllerName":"businesshiringui.ext.controller.Object_of_Univ"}}}}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"Faculties_hiring_model"}}'
});
//# sourceMappingURL=Component-preload.js.map
